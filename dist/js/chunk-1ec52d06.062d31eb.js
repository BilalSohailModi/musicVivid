(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ec52d06"],{"1ddf":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"live-contest-section"},[t._m(0),t.songList.length<3?a("div",{staticClass:"text-right p-3"},[a("button",{staticClass:"dash-board-btn",on:{click:function(e){return t.addSongView()}}},[t._v("\n        Add Song/Video\n      ")])]):t._e(),t.isUploadView?a("div",{staticClass:"row m-0 details-animated"},[a("div",{staticClass:"col-md-2"}),a("div",{staticClass:"col-md-8 upload-div m-5"},[a("h2",{staticClass:"alb-page-heading"},[t._v("Upload Song/Video")]),a("div",{staticClass:"p-5"},[a("label",{staticClass:"song-title"},[t._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.songTitle,expression:"songTitle"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{placeholder:"Enter your Song/Video title",type:"text",name:"Song Title"},domProps:{value:t.songTitle},on:{input:function(e){e.target.composing||(t.songTitle=e.target.value)}}}),t.isSongTitle?a("div",{staticClass:"text-danger mt-1"},[t._v("\n            Please Select A Title\n          ")]):t._e()]),a("div",{staticClass:"justify-content-center relativediv"},[a("div",{staticClass:"col-md-12"},[t.typeError?a("div",{staticClass:"text-danger2"},[t._v("\n              Please Select A Mp3/Mp4 File\n            ")]):t._e(),t.isuploaded?a("div",{staticClass:"text-danger2"},[t._v("\n              Please Select A Song\n            ")]):t._e(),a("form",{attrs:{method:"post"}},[a("label",{staticClass:"drag-drop",on:{dragover:function(t){t.preventDefault()},drop:t.onDrop}},[t._m(1),a("span",{staticClass:"upload-here"},[t._v("or, Click to Browse Song")]),a("input",{attrs:{type:"file"},on:{click:function(t){t.target.value=null},change:t.onChange}})])])]),a("div",{staticClass:"col-md-12"},t._l(t.albumSong,function(e,s){return a("label",{key:s,staticClass:"upload-progress"},[a("span",{staticClass:"music-icon"},[a("img",{attrs:{src:"audio/mp3"==e.type?"/assets/images/music-file.png":"/assets/images/video-file.png",width:"30",alt:""}})]),a("span",{staticClass:"name-progress-size"},[a("span",{staticClass:"title"},[t._v(t._s(e.name)+" "+t._s(e.type))]),a("span",{staticClass:"title"},[t._v(t._s(t._f("mb")(e.size)))])]),a("span",{staticClass:"cancel-upload"},[a("a",{staticClass:"remove-upload",attrs:{href:"javascript:;"},on:{click:function(e){return t.removeFile(s)}}},[a("i",{staticClass:"icon-close"})])])])}),0),a("div",{staticClass:"text-center p-3"},[a("button",{staticClass:"btn-signin d-inline-block",attrs:{type:"button"},on:{click:function(e){return t.saveUploadedFile()}}},[t._v("\n              Save\n            ")]),a("a",{staticClass:"btn-cancel",on:{click:function(e){return t.cancel()}}},[t._v("Cancel")])]),a("loading",{attrs:{active:t.isLoading,"can-cancel":!1,loader:"dots","is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}},[a("div",[t._v("Uploading music.....")]),a("div",{staticClass:"progress-bar"},[a("span",{staticClass:"progress-bar-details"},[a("span",{staticClass:"fill-value",style:{width:this.widthValue+"%"}},[t._v(t._s(t.widthValue)+"%")])])])])],1)]),a("div",{staticClass:"col-md-2"})]):t._e(),a("div",{staticClass:"col-md-10 m-auto border-cls"},[a("div",{staticClass:"track-row-container"},[t._m(2),t.errorMsg?a("div",{staticClass:"text-center"},[t._v("\n          Please upload at least one music\n        ")]):t._e(),a("div",[a("draggable",{on:{end:t.onEnd},model:{value:t.songList,callback:function(e){t.songList=e},expression:"songList"}},t._l(t.songList,function(e,s){return a("div",{key:s,staticClass:"track-row"},[a("div",{staticClass:"track-icon-box"},[a("label",{staticClass:"drag-icon"},[a("img",{attrs:{src:"/assets/images/track-row-drag-icon.png",alt:""}})]),a("label",{staticClass:"track-row-check"},[a("span",{staticClass:"check-box"})]),a("label",{staticClass:"track-play-btn"},[a("button",{attrs:{id:"button"+e.id},on:{click:function(a){return t.playSong(e,s)}}},[a("img",{staticClass:"imagechangeinsong",attrs:{src:"video/mp4"==e.mimeType?"/assets/images/video-camera.png":"/assets/images/track-leaf.png",id:"image"+e.id,alt:""}})])])]),a("div",{staticClass:"track-information"},[a("label",{staticClass:"track-name"},[a("span",{staticClass:"numbering"}),t._v("\n                  "+t._s(e.title)+"\n                ")])]),a("div",{staticClass:"track-action-box"},[a("span",{staticClass:"open-track-menu"},[a("img",{attrs:{src:"/assets/images/track-row-drag-icon.png",alt:""}})]),a("ul",[t.songList.length>1?a("li",{staticClass:"delete-h-s",on:{click:function(a){return t.deleteSpecificSong(e)}}},[a("a",{staticClass:"delete-color",attrs:{href:"javascript:;"}},[a("span",{staticClass:"icon-rubbish-bin"}),t._v("Delete\n                    ")])]):t._e()])])])}),0)],1)])])]),a("div",{staticClass:"modal fade",attrs:{id:"delete-song-modal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"modal-video-container text-center no-video-msg"},[t._v("\n            Are you sure to delete?\n          ")]),a("div",{staticClass:"clearfix text-center"},[a("button",{staticClass:"modal-back-btn m-2",on:{click:function(e){return t.confirmDelete()}}},[t._v("\n              Confirm\n            ")]),a("button",{staticClass:"m-2 modal-back-btn",attrs:{"data-dismiss":"modal"}},[t._v("\n              Cancel\n            ")])])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"video-model-view","data-backdrop":"static","data-keyboard":"false"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("div",[a("b",[t._v(t._s(t.fileTitle))])]),a("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"},on:{click:function(e){return t.closeModel()}}},[t._v("\n            Ã—\n          ")])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"modal-video-container"},[a("div",{staticClass:"text-center"},["mp3"==t.fileType?a("img",{class:{rotate:t.rotation},attrs:{src:"/assets/images/music-static.png"}}):t._e()]),a("video",{class:{containerSize:"mp3"==t.fileType},attrs:{controls:"",src:t.url,preload:"auto"},on:{playing:function(e){return t.updatePaused(e)},pause:function(e){return t.updatePaused(e)},ended:function(e){return t.updatePaused(e)}}})]),a("div",{staticClass:"modal-div-btn clearfix"},[a("button",{staticClass:"modal-back-btn float-left",class:{disabledBtn:0==t.currentIndex},attrs:{disabled:0==t.currentIndex},on:{click:function(e){return t.getPrevious()}}},[t._v("\n              Previous\n            ")]),a("button",{staticClass:"modal-story-btn float-right",class:{disabledBtn:t.currentIndex==t.songList.length-1},attrs:{disabled:t.currentIndex==t.songList.length-1},on:{click:function(e){return t.getNext()}}},[t._v("\n              Next\n            ")])])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"live-contest-header"},[a("h1",[t._v("Contest Music")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"content"},[a("strong",[t._v("Drag & Drop")]),t._v("To Upload song\n                ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"track-row row-header"},[a("div",{staticClass:"track-icon-box"},[t._v("#")]),a("div",{staticClass:"track-information"},[a("label",{staticClass:"track-name"},[a("span",{staticClass:"numbering"},[t._v("Title")])]),a("label",{staticClass:"artist-name"})]),a("div",{staticClass:"track-action-box"})])}],o=(a("7f7f"),a("28a5"),a("f499")),n=a.n(o),l=(a("ac6a"),a("1980")),r=a.n(l),c=(a("41cb"),a("6bf9")),d=a("86d0"),u=(a("bc3a"),a("4ec3")),p=a("9062"),m=a.n(p),g=(a("e40d"),{name:"contestMusic",props:{msg:String},data:function(){return{user:JSON.parse(localStorage.getItem("User")),allpath:c["a"],isUploadView:!1,albumSong:[],typeError:!1,songTitle:"",isuploaded:!1,songList:[],songsIdArr:[],errorMsg:!1,songId:null,isLoading:!1,fullPage:!0,isSongTitle:!1,url:"",currentIndex:null,fileTitle:"",fileType:"",rotation:!1,widthValue:0,fileSize:null}},components:{AppHeader:d["a"],draggable:r.a,Loading:m.a},filters:{mb:function(t){if(!t)return"";var e=new Array("Bytes","KB","MB","GB"),a=0;while(t>900)t/=1024,a++;var s=Math.round(100*t)/100+" "+e[a];return s}},methods:{updatePaused:function(t){console.log(t),"playing"==t.type?this.rotation=!0:"ended"==t.type?this.getNext():this.rotation=!1},contestMusicList:function(){var t=this;u["a"].get("contest-music/".concat(this.user.id),{headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}}).then(function(e){if(e.data){t.songList=e.data.data,t.songsIdArr=[],t.songList.forEach(function(e){t.songsIdArr.push(e.id)});var a=localStorage.getItem("contestMusicCount");a=t.songList.length,localStorage.setItem("contestMusicCount",n()(a)),0==t.songList.length?t.errorMsg=!0:t.errorMsg=!1,console.log("contest music list",JSON.parse(n()(t.songsIdArr)))}}).catch(function(t){})},onEnd:function(t){var e=this;console.log("drag",this.songList);var a=[];if(this.songList.forEach(function(t){a.push(t.id)}),console.log("ids",a),n()(this.songsIdArr)!=n()(a)){var s={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}};u["a"].put("contest-music",{priorityIds:a},s).then(function(t){console.log("update list",t.data),swal("Priority Changed!","Priority changed successfully","success"),e.contestMusicList()}).catch(function(t){})}},addSongView:function(){this.isUploadView=!this.isUploadView},removeFile:function(t){this.albumSong=this.albumSong.filter(function(e,a){return t!=a})},playSong:function(t,e){console.log("aa",t,e),$("#video-model-view").modal("show"),$("#video-model-view").modal({backdrop:"static",keyboard:!1}),this.currentIndex=e,this.url=this.allpath.user_contest_music+t.fileName,this.fileTitle=t.title,this.fileType=this.url.split(".").pop()},getPrevious:function(){this.currentIndex--,this.show(this.currentIndex,this.songList),this.rotation=!1},getNext:function(){this.currentIndex++,this.show(this.currentIndex,this.songList),this.rotation=!1},show:function(t,e){console.log("test previous next",t,e),0==t?(this.url=this.allpath.user_contest_music+e[0].fileName,this.fileTitle=e[0].title,this.fileType=this.url.split(".").pop()):1==t?(this.url=e[1]?this.allpath.user_contest_music+e[1].fileName:"",this.fileTitle=e[1]?e[1].title:"",this.fileType=this.url&&e[1]?this.url.split(".").pop():""):(this.url=e[2]?this.allpath.user_contest_music+e[2].fileName:"",this.fileTitle=e[2]?e[2].title:"",this.fileType=this.url&&e[2]?this.url.split(".").pop():"")},closeModel:function(){this.url="",$("#video-model-view").modal("hide"),this.rotation=!1},deleteSpecificSong:function(t){this.songId=t.id,$("#delete-song-modal").modal("show")},confirmDelete:function(){var t=this;u["a"].delete("contest-music/".concat(this.songId),{headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}}).then(function(e){e.data&&(console.log("contest music delete",e.data),$("#delete-song-modal").modal("hide"),swal("Deleted!","Successfully Deleted","success"),t.contestMusicList())}).catch(function(t){})},onChange:function(t){console.log("file type ==>",t.target.files[0]),this.fileSize=null,this.fileSize=t.target.files[0].size,"mp3"===t.target.files[0].name.split(".").pop()||"mp4"===t.target.files[0].name.split(".").pop()?(this.typeError=!1,this.albumSong=[],this.albumSong.push(t.target.files[0])):this.typeError=!0},onDrop:function(t){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer.files;console.log("drop file",e),this.fileSize=null,this.fileSize=e[0].size,"mp3"===e[0].name.split(".").pop()||"mp4"===e[0].name.split(".").pop()?(this.typeError=!1,this.albumSong=[],this.albumSong.push(e[0])):this.typeError=!0},progressBar:function(){var t=this;this.widthValue=0;var e=this.fileSize/2e4;console.log(this.fileSize,e),setInterval(function(){t.widthValue<90&&(t.widthValue=t.widthValue+5,console.log(t.widthValue))},e)},saveUploadedFile:function(){var t=this;if(0!=this.albumSong.length){if(this.isuploaded=!1,!this.songTitle)return this.isSongTitle=!0,void window.scrollTo(0,0);this.progressBar(),this.isuploaded=!1,this.isLoading=!0;var e=new FormData;e.append("title",this.songTitle),this.albumSong.forEach(function(t){e.append("contestMusic",t,t.name)}),0==this.songList.length?e.append("priority",1):1==this.songList.length?e.append("priority",2):e.append("priority",3);var a={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}};u["a"].post("contest-music",e,a).then(function(e){t.widthValue=100,setTimeout(function(){e.data&&(t.isLoading=!1,t.songTitle="",t.albumSong=[],t.isUploadView=!1,t.isSongTitle=!1,t.contestMusicList(),t.fileSize=null)},1e3)}).catch(function(e){t.isLoading=!1,console.log(e)})}else this.isuploaded=!0},cancel:function(){this.isUploadView=!1,this.isSongTitle=!1}},created:function(){this.contestMusicList()},beforeRouteEnter:function(t,e,a){var s={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}};u["a"].get("me",s).then(function(e){if(e.data){console.log("@me",e.data);var s=e.data,i=["/contest-music","/artistregisterstep1","/artistregisterstep2","/artistregisterstep3","/artistregisterstep4"];t.path!=i[s.profileSetup]?a({path:i[s.profileSetup]}):a()}})},mounted:function(){}}),v=g,f=(a("edfa"),a("2877")),h=Object(f["a"])(v,s,i,!1,null,"903a8cb4",null);e["default"]=h.exports},2483:function(t,e,a){"use strict";var s=a("7a3e"),i=a.n(s);i.a},5778:function(t,e,a){},"7a3e":function(t,e,a){},"9d82":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AppHeader"),a("div",{staticClass:"body-wraper no-footer bg-profile"},[a("div",{staticClass:"profile-container"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!1,loader:"dots","is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"box-model-wraper"},[a("div",{staticClass:"profile-header"},[a("div",{staticClass:"profile-banner"},[1==t.coverpictur?a("img",{attrs:{src:"/assets/images/Spinner.gif",alt:""}}):t._e(),null==t.coverpictur?a("img",{attrs:{src:"/assets/images/Profile-banner.png",alt:""}}):a("img",{attrs:{src:t.coverpictur,alt:""}}),a("div",{staticClass:"profile-banner-uploader"},[null==t.coverpictur?a("label",{},[a("input",{ref:"imageUploader",attrs:{type:"file"},on:{click:t.resetImageUploader,change:function(e){return t.upDatecover(e)}}}),a("i",{staticClass:"icon-photo-camera"})]):t._e()]),t.coverpictur?a("div",[a("label",{staticClass:"upload-select",attrs:{for:"file"}}),a("input",{ref:"imageUploader",attrs:{type:"file",id:"file",accept:"image/*",hidden:""},on:{click:t.resetImageUploader,change:function(e){return t.upDatecover(e)}}})]):t._e()]),a("div",{staticClass:"profile-details-section"},[a("div",{staticClass:"peofile-picture-section"},[a("div",{staticClass:"profile-picture"},[null==t.profilemage||""==t.user.profilePicture?a("img",{attrs:{src:"/assets/images/default_artist.png",alt:""}}):t._e(),t.profilemage?a("div",{staticClass:"profile-image-view",style:{"background-image":"url("+t.profilemage+")"}}):t._e()]),a("router-link",{attrs:{to:"/artist-edit"}},[a("a",{staticClass:"profile-edit-btn",attrs:{href:"javascript:void(0)"}},[t._v("Edit")])])],1),a("h2",{staticClass:"user-name"},[t._v(t._s(t.user.fullName))]),a("h3",{staticClass:"user-address"},[t._v(t._s(t.user.address))])])]),a("div",{staticClass:"profile-dashboard-area"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 col-lg-9 col-md-8 col-xl-10 custom-column-right"},[a("div",{staticClass:"profile-right-section"},[a("div",{staticClass:"top-section display-flex"},[t._m(0),a("div",{staticClass:"btn-side"},[a("button",{staticClass:"dash-board-btn",attrs:{type:"button"},on:{click:function(e){return t.showPromotionalVideo()}}},[t._v("\n                          Add About Me Video\n                        ")]),a("button",{staticClass:"dash-board-btn",attrs:{type:"button"},on:{click:function(e){return t.showContestVideo()}}},[t._v("\n                          Add Contest Video\n                        ")]),a("router-link",{attrs:{to:"/addalbum"}},[a("button",{staticClass:"dash-board-btn",attrs:{type:"button"}},[t._v("\n                            Add Album\n                          ")])]),a("router-link",{attrs:{to:"/addsong"}},[a("button",{staticClass:"dash-board-btn",attrs:{type:"button"}},[t._v("\n                            Add Song\n                          ")])])],1)]),a("div",{staticClass:"album-wraper"},[0==t.myALbums.length?a("div",[t._v("\n                        No Music Album Available please Add one\n                      ")]):t._e(),a("ul",{staticClass:"album-ul"},t._l(t.myALbums,function(e,s){return a("li",{key:s},[a("router-link",{attrs:{to:{name:"ArtistAlbumdetails",params:{id:e.id}}}},[null==e.coverImage?a("img",{attrs:{src:"/assets/images/deefault_album.png"}}):a("img",{attrs:{src:t.allpath.album_pictures+e.coverImage}})])],1)}),0),a("infinite-loading",{on:{infinite:t.infiniteHandler}},[a("div",{attrs:{slot:"spinner"},slot:"spinner"},[a("img",{attrs:{src:"/assets/images/loader.gif"}})]),a("div",{attrs:{slot:"no-more"},slot:"no-more"},[t._v(t._s(""))]),a("div",{attrs:{slot:"no-results"},slot:"no-results"},[t._v(t._s(""))])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPromotionalVideoBoolean,expression:"showPromotionalVideoBoolean"}],staticClass:"video-sec"},[a("div",{staticClass:"vid-row"},[a("div",{staticClass:"vid-colum"},[a("div",{staticClass:"vid-card"},[null!=t.promosonallink&&void 0!=t.promosonallink?a("div",{staticClass:"vid-card-head"},[a("div",{staticClass:"row justify-content-between align-items-center"},[t._m(1),a("div",{staticClass:"col-auto"},[a("a",{staticClass:"vid-card-acc",attrs:{href:"javascript:;"},on:{click:t.showdetelemodal1}},[a("i",{staticClass:"icon-close"}),a("span",[t._v("Delete")])])])])]):t._e(),null!=t.promosonallink&&void 0!=t.promosonallink?a("div",{staticClass:"vid-card-body"},[a("video",{attrs:{width:"100%",controls:"",src:t.promosonallink,preload:"auto"}})]):a("div",{staticClass:"vid-card-body"},[a("vue-dropzone",{ref:"myVueDropzone",attrs:{options:t.dropzoneOptions,id:"customdropzone"},on:{"vdropzone-sending":t.sendingEvent,"vdropzone-file-added":t.thumbnail,"vdropzone-success":t.success,"vdropzone-error":t.error,"vdropzone-max-files-reached":t.maxfilereach}})],1),null!=t.promosonallink&&void 0!=t.promosonallink?a("div",{staticClass:"vid-card-footer"},[t._m(2)]):t._e()])])])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showContestVideoBoolean,expression:"showContestVideoBoolean"}]},[a("ContestMusic")],1)]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(3),a("div",{staticClass:"modal-footer justify-content-center"},[a("button",{staticClass:"btn modal-delete-btn",attrs:{type:"button"},on:{click:function(e){return t.deletevideo(t.introductionalid,"intro")}}},[t._v("\n                      Delete\n                    ")]),a("button",{staticClass:"btn modal-cancel-btn ml-0",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.closemodal}},[t._v("\n                      Cancel\n                    ")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal1"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(4),a("div",{staticClass:"modal-footer justify-content-center"},[a("button",{staticClass:"btn modal-delete-btn",attrs:{type:"button"},on:{click:function(e){return t.deletevideo(t.promotionalid,"prormo")}}},[t._v("\n                      Delete\n                    ")]),a("button",{staticClass:"btn modal-cancel-btn ml-0",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.closemodal1}},[t._v("\n                      Cancel\n                    ")])])])])])])])],1)]),a("div",{staticClass:"modal contest-modal",attrs:{id:"image_resize_modal","data-backdrop":"static","data-keyboard":"false"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"modal-inner-body"},[a("div",[a("div",[a("vue-cropper",{ref:"cropper",attrs:{guides:!0,"view-mode":2,"drag-mode":"move","auto-crop-area":.3,background:!0,rotatable:!0,cropBoxResizable:!1,src:t.imgSrc,alt:"Source Image"}})],1)]),a("div",{staticClass:"text-center p-3"},[""!=t.imgSrc?a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.updateImage()}}},[t._v("\n                  Save\n                ")]):t._e(),""!=t.imgSrc?a("button",{staticClass:"btn btn-info",on:{click:function(e){return t.rotate()}}},[t._v("\n                  Rotate\n                ")]):t._e(),a("button",{staticClass:"btn btn-dark",on:{click:function(e){return t.closeModal()}}},[t._v("\n                  Cancel\n                ")])])])])])])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"heading-div"},[a("h1",[t._v("My Music")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("h3",{staticClass:"vid-card-title"},[t._v("ABOUT ME VIDEO")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-between"},[a("div",{staticClass:"col-auto"},[a("p",[a("i",{staticClass:"icon-heart"}),t._v(" 2550")])]),a("div",{staticClass:"col-auto"},[a("p",[t._v("1452 Views")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("img",{attrs:{src:"/assets/images/bin.png"}}),a("p",[t._v("\n                      Are you sure\n                      "),a("br"),t._v("you want to delete this video?\n                    ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("img",{attrs:{src:"/assets/images/bin.png"}}),a("p",[t._v("\n                      Are you sure\n                      "),a("br"),t._v("you want to delete this video?\n                    ")])])}],o=a("f499"),n=a.n(o),l=(a("a481"),a("6762"),a("2fdb"),a("7f7f"),a("34ef"),a("28a5"),a("92c3")),r=a.n(l),c=(a("1e3f"),a("e40d"),a("0118"),a("62b0"),a("41cb"),a("6bf9")),d=a("b7d6"),u=a("9062"),p=a.n(u),m=a("86d0"),g=(a("bc3a"),a("b861")),v=a("e166"),f=a.n(v),h=a("e254"),b=a("4ec3"),C=a("95c3"),_=a.n(C),w=(a("6107"),a("1ddf")),y=null,k={name:"FanProfile",props:{msg:String},components:{AppHeader:m["a"],AppFooter:g["a"],ContestMusic:w["default"],LeftManu:h["a"],Loading:p.a,InfiniteLoading:f.a,VueCropper:_.a,vueDropzone:r.a},data:function(){return{user:"",profilemage:null,isLoading:!1,coverpictur:1,fullPage:!0,myALbums:[],allpath:c["a"],page:1,imgSrc:"",cropImg:"",fileName:"",isError:!1,errormessage:"",profilepictur:1,promotionalid:"",introductionalid:"",answer:[],isTextarea:!1,promosonallink:null,intoductionallink:null,sendarray:["0","0","0","0","0","0","0","0","0"],showPromotionalVideoBoolean:!1,showContestVideoBoolean:!1,dropzoneOptions:{dictInvalidFileType:"Invalid file type",dictDefaultMessage:"Upload Promotional Video",timeout:18e5,url:"https://miv.musicisvivid.com/api/setup-profile",dictResponseError:"400",thumbnailWidth:150,maxFilesize:600,maxFiles:1,addRemoveLinks:!0,accept:function(t,e){t=t;var a=new FileReader;a.onload=function(){var s=new Blob([a.result],{type:t.type}),i=URL.createObjectURL(s),o=document.createElement("video");function n(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);t.split(",")[0].split(":")[1].split(";")[0];for(var a=new Uint8Array(e.length),s=0;s<e.length;s++)a[s]=e.charCodeAt(s);var i=new Blob([a],{type:" image/png "}),o=new File([i],"thumbnail"+(new Date).getTime()+".png",{type:" image/png ",lastModified:(new Date).getTime()});return o}var l=function t(){r()&&(o.removeEventListener("timeupdate",t),o.pause())};o.addEventListener("loadeddata",function(){r()&&o.removeEventListener("timeupdate",l)});var r=function(){var t=document.createElement("canvas");t.width=o.videoWidth,t.height=o.videoHeight,t.getContext("2d").drawImage(o,0,0,t.width,t.height);var a=t.toDataURL(),s=a.length>1e5;if(s){document.createElement("img");y=n(a),e()}return s};o.addEventListener("timeupdate",l),o.preload="metadata",o.src=i,o.muted=!0,o.playsInline=!0,o.play()},a.readAsArrayBuffer(t)},params:{user_id:JSON.parse(localStorage.getItem("User")).id},method:"POST",acceptedFiles:"video/*",paramName:"promotionalVideo",dictMaxFilesExceeded:"Max file size reached",dictFileTooBig:"File size is too big"}}},methods:{showPromotionalVideo:function(){console.log("here"),this.showPromotionalVideoBoolean^=!0,this.showContestVideoBoolean=!1},showContestVideo:function(){console.log("here"),this.showContestVideoBoolean^=!0,this.showPromotionalVideoBoolean=!1},sendingEvent:function(t,e,a){this.isLoading=!0,a.append("musicImage",y)},thumbnail:function(t,e,a){},success:function(t,e){this.isLoading=!1,"Y"==e.data.introductionVideoUploaded&&(this.introvideo=!1),"Y"==e.data.promotionalVideoUploaded&&(this.promovideo=!1),this.initializedata()},error:function(t,e,a){e=e.errors;if(void 0!=a){var s=document.querySelectorAll("[data-dz-errormessage]");s[s.length-1].innerHTML=e}this.isLoading=!1,this.iserror=!0,this.errmessage=e},maxfilereach:function(t){var e=document.querySelectorAll("[data-dz-errormessage]");e[e.length-1].innerHTML="Max File Reached"},deletevideo:function(t,e){var a=this;this.isLoading=!0,"intro"==e?$("#deleteModal").removeClass("show").hide():$("#deleteModal1").removeClass("show").hide();var s={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}};b["a"].post("delete-file",{fileId:t},s).then(function(t){a.isLoading=!1,"intro"==e?a.intoductionallink=null:a.promosonallink=null}).catch(function(t){})},showdetelemodal:function(){$("#deleteModal").addClass("show").show()},showdetelemodal1:function(){$("#deleteModal1").addClass("show").show()},closemodal:function(){$("#deleteModal").removeClass("show").hide()},closemodal1:function(){$("#deleteModal1").removeClass("show").hide()},initializedata:function(){var t=this,e={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}};b["a"].get("edit-profile-details",e).then(function(e){if(e.data){t.user=e.data.data.user,t.$store.state.registerdata2=t.user,$("#deleteModal").removeClass("show").hide(),$("#deleteModal1").removeClass("show").hide(),t.profilepictur=c["a"].profile_image_path+t.$store.state.registerdata2.profilePicture;var a=e.data.data.files.filter(function(t){return 1==t.subCategoryType});t.promotionalid=a.length>0?a[0].id:null,t.promosonallink=a.length>0?c["a"].video_path+a[0].fileName:null;var s=e.data.data.files.filter(function(t){return 2==t.subCategoryType});t.introductionalid=s.length>0?s[0].id:null,t.intoductionallink=s.length>0?c["a"].video_path+s[0].fileName:null,"1"==e.data.data.answers[6].answer&&(t.isTextarea=!0),t.answer=e.data.data.answers.map(function(t,e){return"1"==t.answer?String(e+1):null}),t.sendarray=e.data.data.answers.map(function(t,e){return"1"==t.answer?"1":"0"})}}).catch(function(t){})},resetImageUploader:function(){this.$refs.imageUploader.value=""},infiniteHandler:function(t){var e=this;this.page=this.page+1;var a={albums_of_user:JSON.parse(localStorage.getItem("User")).id,page:this.page,per_page:10};b["a"].get("album-list",{params:a,headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}}).then(function(a){a.data&&(a.data.albumlist.map(function(t){e.myALbums.push(t)}),0==a.data.albumlist.length?t.complete():t.loaded())}).catch(function(t){})},upDatecover:function(t){var e=this,a=t.target.files[0];if(t.target.files[0]&&t.target.files[0].name&&(this.fileName=t.target.files[0].name),console.log(a),a.type.includes("image/"))if($("#image_resize_modal").modal("show"),$("#image_resize_modal").modal({backdrop:"static",keyboard:!1}),"function"===typeof FileReader){var s=new FileReader;s.onload=function(t){e.imgSrc=t.target.result,e.$refs.cropper.replace(t.target.result)},s.readAsDataURL(a)}else alert("Sorry, FileReader API not supported");else alert("Please select an image file")},updateImage:function(){var t=this;this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL();var e=this.cropImg;$("#image_resize_modal").modal("hide"),this.isLoading=!0,fetch(e).then(function(t){return t.blob()}).then(function(e){var a=new FormData,s=new File([e],t.fileName);a.append("coverPicture",s);var i={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}};b["a"].post("update-cover-picture",a,i).then(function(e){console.log(e),e.data&&(t.coverpictur=c["a"].cover_pictures+e.data.data.coverPicture,t.isLoading=!1)}).catch(function(e){t.isLoading=!1})})},rotate:function(){this.$refs.cropper.rotate(90)},closeModal:function(){$("#image_resize_modal").modal("hide")}},created:function(){var t=this;d["a"].getUser("profile",function(e){localStorage.setItem("User",n()(e.user)),t.user=JSON.parse(localStorage.getItem("User")),null!=t.user.profilePicture&&(t.profilemage=c["a"].profile_image_path+t.user.profilePicture),null!=t.user.coverPicture?t.coverpictur=c["a"].cover_pictures+t.user.coverPicture:t.coverpictur=null});var e={albums_of_user:JSON.parse(localStorage.getItem("User")).id,page:this.page,per_page:10};b["a"].get("album-list",{params:e,headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}}).then(function(e){e.data&&(t.myALbums=e.data.albumlist)}).catch(function(t){}),this.initializedata()}},S=k,x=(a("2483"),a("2877")),L=Object(x["a"])(S,s,i,!1,null,"0cada8fe",null);e["default"]=L.exports},a481:function(t,e,a){"use strict";var s=a("cb7c"),i=a("4bf8"),o=a("9def"),n=a("4588"),l=a("0390"),r=a("5f1b"),c=Math.max,d=Math.min,u=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,function(t,e,a,v){return[function(s,i){var o=t(this),n=void 0==s?void 0:s[e];return void 0!==n?n.call(s,o,i):a.call(String(o),s,i)},function(t,e){var i=v(a,t,this,e);if(i.done)return i.value;var u=s(t),p=String(this),m="function"===typeof e;m||(e=String(e));var h=u.global;if(h){var b=u.unicode;u.lastIndex=0}var C=[];while(1){var _=r(u,p);if(null===_)break;if(C.push(_),!h)break;var w=String(_[0]);""===w&&(u.lastIndex=l(p,o(u.lastIndex),b))}for(var y="",k=0,S=0;S<C.length;S++){_=C[S];for(var x=String(_[0]),L=c(d(n(_.index),p.length),0),I=[],T=1;T<_.length;T++)I.push(g(_[T]));var M=_.groups;if(m){var A=[x].concat(I,L,p);void 0!==M&&A.push(M);var V=String(e.apply(void 0,A))}else V=f(x,p,L,I,M,e);L>=k&&(y+=p.slice(k,L)+V,k=L+x.length)}return y+p.slice(k)}];function f(t,e,s,o,n,l){var r=s+t.length,c=o.length,d=m;return void 0!==n&&(n=i(n),d=p),a.call(l,d,function(a,i){var l;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(r);case"<":l=n[i.slice(1,-1)];break;default:var d=+i;if(0===d)return a;if(d>c){var p=u(d/10);return 0===p?a:p<=c?void 0===o[p-1]?i.charAt(1):o[p-1]+i.charAt(1):a}l=o[d-1]}return void 0===l?"":l})}})},e254:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col col-lg-3 col-md-4 col-xl-2 hidden-small-device custom-column-left-side"},[a("div",{staticClass:"side-menu-bar"},[a("div",{staticClass:"menu-wraper"},[a("ul",{staticClass:"menu-ul"},[a("li",[a("a",{staticClass:"active",attrs:{href:"#"}},[a("i",{staticClass:"icon-avatar"}),t._v("\tMy Profile\n\t\t\t\t\t\t\t\t\t\t\t\t")])]),a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"icon-analytics"}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tAnalytics\n\t\t\t\t\t\t\t\t\t\t\t\t")])]),a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"icon-search"}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t\t\t\t\t\t\t")])]),a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"icon-leaderboard"}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\tLeaderboard\n\t\t\t\t\t\t\t\t\t\t\t\t")])])])])])])}],o={name:"LeftManu",props:{msg:String},mounted:function(){},updated:function(){}},n=o,l=a("2877"),r=Object(l["a"])(n,s,i,!1,null,"23a8600f",null);e["a"]=r.exports},edfa:function(t,e,a){"use strict";var s=a("5778"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-1ec52d06.062d31eb.js.map