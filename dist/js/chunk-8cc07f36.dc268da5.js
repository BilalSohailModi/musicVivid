(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8cc07f36"],{5658:function(e,t,a){},"9f00":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("AppHeader"),a("div",{staticClass:"body-wraper no-footer"},[a("div",{staticClass:"profile-container"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"box-model-wraper edit"},[a("div",{staticClass:"profile-dashboard-area edit"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 col-lg-10"},[a("div",{staticClass:"profile-right-section-edit"},[a("form",[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"peofile-picture-section edit"},[a("div",{staticClass:"profile-picture edit"},[1==e.profilepictur?a("img",{attrs:{src:"/assets/images/doublering.gif",alt:""}}):e._e(),null==e.user.profilePicture||""==e.user.profilePicture?a("img",{attrs:{src:"/assets/images/default_artist.png",alt:""}}):e._e(),null!=e.user.profilePicture||""!=e.user.profilePicture?a("div",{staticClass:"profile-image-view",style:{"background-image":"url("+e.profilepictur+")"}},[a("label",{staticClass:"picture-select",attrs:{for:"file"}}),a("input",{attrs:{type:"file",id:"file",accept:"image/*",hidden:""},on:{change:function(t){return e.filesChange(t.target.name,t.target.files)}}})]):e._e()]),e.user.profilePicture||1===e.profilepictur?e._e():a("label",{staticClass:"profile-change-image",attrs:{id:"fan-dp-upload"}},[a("i",{staticClass:"icon-photo-camera"}),a("input",{attrs:{type:"file",id:"fan-change-dp",accept:"image/*",hidden:""},on:{change:function(t){return e.filesChange(t.target.name,t.target.files)}}})])])]),a("div",{staticClass:"edit-profile-devidor mb-1-mob"}),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-xl-8 col-lg-10 col-md-12 custom-form"},[e.isError?a("div",{staticClass:"error-messages"},[e._v(e._s(e.errormessage))]):e._e(),e.isSuccess?a("div",{staticClass:"success-messages"},[e._v("Profile has been updated successfully!")]):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-sm-6"},[a("div",{staticClass:"form-group mb-3"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.user.fullName,expression:"user.fullName"}],staticClass:"form-control",attrs:{type:"text",name:"Name"},domProps:{value:e.user.fullName},on:{input:function(t){t.target.composing||e.$set(e.user,"fullName",t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Name"),expression:"errors.has('Name')"}],staticClass:"text-danger1"},[e._v(e._s(e.errors.first("Name")))])])]),a("div",{staticClass:"col-lg-6 col-sm-6"},[a("div",{staticClass:"form-group mb-3"},[a("label",[e._v("Username")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",name:"Username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Username"),expression:"errors.has('Username')"}],staticClass:"text-danger1"},[e._v(e._s(e.errors.first("Username")))])])]),a("div",{staticClass:"col-lg-6 col-sm-6"},[a("div",{staticClass:"form-group mb-3 edit-profile"},[a("label",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",attrs:{type:"text",name:"Email",readonly:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Email"),expression:"errors.has('Email')"}],staticClass:"text-danger1"},[e._v(e._s(e.errors.first("Email")))])])]),a("div",{staticClass:"col-lg-6 col-sm-6"},[a("div",{staticClass:"form-group mb-3 edit-profile"},[a("label",[e._v("Date of Birth")]),a("datetime",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"input-class":"form-control datepicker hasDatepicker",name:"dob","data-vv-delay":"1000","max-datetime":e.maxDatetime,placeholder:"Date Of Birth"},model:{value:e.user.dob,callback:function(t){e.$set(e.user,"dob",t)},expression:"user.dob"}})],1)]),a("div",{staticClass:"col-lg-6 col-sm-6"},[a("div",{staticClass:"form-group mb-3 edit-profile"},[a("label",[e._v("Gender")]),a("span",{staticClass:"w-100 d-flex"},[a("label",{staticClass:"normal-radio fan-radio-gender"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.gender,expression:"user.gender"}],attrs:{type:"radio",value:"2",name:"gender"},domProps:{checked:e._q(e.user.gender,"2")},on:{change:function(t){return e.$set(e.user,"gender","2")}}}),a("span",[e._v("Male")])]),a("label",{staticClass:"normal-radio fan-radio-gender"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.gender,expression:"user.gender"}],attrs:{type:"radio",value:"3",name:"gender"},domProps:{checked:e._q(e.user.gender,"3")},on:{change:function(t){return e.$set(e.user,"gender","3")}}}),a("span",[e._v("Female")])])])])])])])]),a("div",{staticClass:"edit-profile-devidor mb-4 mb-1-mob"}),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-auto"},[a("button",{staticClass:"btn-signin d-inline-block",attrs:{type:"button"},on:{click:e.validateBeforeSubmit}},[e._v("Save")]),a("router-link",{staticClass:"btn-cancel",attrs:{to:"/fan-profile"}},[e._v("Cancel")])],1)])])])])])])])])])])],1)},s=[],r=a("f499"),o=a.n(r),n=(a("7f7f"),a("34ef"),a("28a5"),a("92c3")),l=a.n(n),d=a("859b"),c=a("9062"),u=a.n(c),m=(a("1e3f"),a("e40d"),a("86d0")),p=a("b861"),v=a("0118"),g=a("62b0"),f=(a("41cb"),a("4ec3")),h=a("b7d6"),w=a("6bf9"),b=null,C={name:"FaneditProfile",props:{msg:String},components:{vueDropzone:l.a,Loading:u.a,AppHeader:m["a"],AppFooter:p["a"],VueGoogleAutocomplete:v["a"],Datetime:d["Datetime"]},data:function(){return{maxDatetime:"",user:{},isLoading:!1,geocode:[],isCity:!0,fullPage:!0,answer:[],isTextarea:!1,isAgre:!1,isAgre1:!1,firstIsagre:!1,secondIsagre:!1,sendarray:["0","0","0","0","0","0","0","0","0"],isError:!1,errormessage:"",isSuccess:!1,promosonallink:null,intoductionallink:null,introthumpnail:"",promothumbnail:"",promotionalid:"",introductionalid:"",profilepictur:1,dropzoneOptions1:{dictInvalidFileType:"Invalid file type",timeout:3e5,url:"https://miv.musicisvivid.com/api/setup-profile",dictResponseError:"400",thumbnailWidth:150,maxFilesize:20,maxFiles:1,addRemoveLinks:!0,accept:function(e,t){e=e;var a=new FileReader;a.onload=function(){var i=new Blob([a.result],{type:e.type}),s=URL.createObjectURL(i),r=document.createElement("video");function o(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);e.split(",")[0].split(":")[1].split(";")[0];for(var a=new Uint8Array(t.length),i=0;i<t.length;i++)a[i]=t.charCodeAt(i);var s=new Blob([a],{type:" image/png "}),r=new File([s],"thumbnail"+(new Date).getTime()+".png",{type:" image/png ",lastModified:(new Date).getTime()});return r}var n=function e(){l()&&(r.removeEventListener("timeupdate",e),r.pause())};r.addEventListener("loadeddata",function(){l()&&r.removeEventListener("timeupdate",n)});var l=function(){var e=document.createElement("canvas");e.width=r.videoWidth,e.height=r.videoHeight,e.getContext("2d").drawImage(r,0,0,e.width,e.height);var a=e.toDataURL(),i=a.length>1e5;if(i){document.createElement("img");b=o(a),t()}return i};r.addEventListener("timeupdate",n),r.preload="metadata",r.src=s,r.muted=!0,r.playsInline=!0,r.play()},a.readAsArrayBuffer(e)},params:{user_id:JSON.parse(localStorage.getItem("User")).id},method:"POST",acceptedFiles:"video/*",paramName:"introductionVideo",dictMaxFilesExceeded:"Max file size reached",dictFileTooBig:"File size is too big",dictDefaultMessage:"Upload Introductional Video"},dropzoneOptions:{dictInvalidFileType:"Invalid file type",dictDefaultMessage:"Upload Promotional Video",timeout:3e5,url:"https://miv.musicisvivid.com/api/setup-profile",dictResponseError:"400",thumbnailWidth:150,maxFilesize:20,maxFiles:1,addRemoveLinks:!0,accept:function(e,t){e=e;var a=new FileReader;a.onload=function(){var i=new Blob([a.result],{type:e.type}),s=URL.createObjectURL(i),r=document.createElement("video");function o(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);e.split(",")[0].split(":")[1].split(";")[0];for(var a=new Uint8Array(t.length),i=0;i<t.length;i++)a[i]=t.charCodeAt(i);var s=new Blob([a],{type:" image/png "}),r=new File([s],"thumbnail"+(new Date).getTime()+".png",{type:" image/png ",lastModified:(new Date).getTime()});return r}var n=function e(){l()&&(r.removeEventListener("timeupdate",e),r.pause())};r.addEventListener("loadeddata",function(){l()&&r.removeEventListener("timeupdate",n)});var l=function(){var e=document.createElement("canvas");e.width=r.videoWidth,e.height=r.videoHeight,e.getContext("2d").drawImage(r,0,0,e.width,e.height);var a=e.toDataURL(),i=a.length>1e5;if(i){document.createElement("img");b=o(a),t()}return i};r.addEventListener("timeupdate",n),r.preload="metadata",r.src=s,r.muted=!0,r.playsInline=!0,r.play()},a.readAsArrayBuffer(e)},params:{user_id:JSON.parse(localStorage.getItem("User")).id},method:"POST",acceptedFiles:"video/*",paramName:"promotionalVideo",dictMaxFilesExceeded:"Max file size reached",dictFileTooBig:"File size is too big"}}},computed:{rgisterdata:function(){return this.$store.state.registerdata2}},methods:{filesChange:function(e,t){console.log(t[0]),this.isLoading=!0,this.profilepictur=1;var a=this;new g["a"](t[0],{quality:.6,convertSize:2e5,success:function(e){console.log(e);var t=new FormData;t.append("profilePicture",e,e.name);var i={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}};f["a"].post("update-profile-picture",t,i).then(function(e){e.data&&(console.log(e.data),a.isLoading=!1,a.initializedata(),a.$store.state.profilepicture=w["a"].profile_image_path+e.data.data.profilePicture)}).catch(function(e){})},error:function(e){console.log(e.message)}})},sendingEvent:function(e,t,a){this.isLoading=!0,a.append("musicImage",b)},sucesspage:function(){this.introvideo?this.isintro=!0:this.isintro=!1,this.promovideo?this.ispromo=!0:this.ispromo=!1,this.isintro||this.ispromo||(window.location.href="sucess")},maxfilereach:function(e){var t=document.querySelectorAll("[data-dz-errormessage]");t[t.length-1].innerHTML="Max File Reached"},thumbnail:function(e,t,a){},success:function(e,t){this.isLoading=!1,"Y"==t.data.introductionVideoUploaded&&(this.introvideo=!1),"Y"==t.data.promotionalVideoUploaded&&(this.promovideo=!1),this.initializedata()},error:function(e,t,a){t=t.errors;if(void 0!=a){console.log(a);var i=document.querySelectorAll("[data-dz-errormessage]");i[i.length-1].innerHTML=t}this.isLoading=!1,this.iserror=!0,this.errmessage=t},deletevideo:function(e,t){var a=this;this.isLoading=!0,"intro"==t?$("#deleteModal").removeClass("show").hide():$("#deleteModal1").removeClass("show").hide();var i={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}};f["a"].post("delete-file",{fileId:e},i).then(function(e){console.log(a.isLoading),a.isLoading=!1,"intro"==t?a.intoductionallink=null:a.promosonallink=null}).catch(function(e){})},showdetelemodal:function(){$("#deleteModal").addClass("show").show()},showdetelemodal1:function(){$("#deleteModal1").addClass("show").show()},closemodal:function(){$("#deleteModal").removeClass("show").hide()},closemodal1:function(){$("#deleteModal1").removeClass("show").hide()},checkingCity:function(e){""==e.newVal?this.isCity=!1:this.isCity=!0,this.$store.state.registerdata2.address=e.newVal},setisAgre1:function(e){console.log(e.target.value),this.firstIsagre=!this.firstIsagre},initializedata:function(){var e=this,t={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}};f["a"].get("edit-profile-details",t).then(function(t){t.data&&(e.user=t.data.data.user,e.profilepictur=w["a"].profile_image_path+e.user.profilePicture)}).catch(function(e){})},setisAgre:function(e){this.secondIsagre=!this.secondIsagre},setsendData:function(e){event.target.checked&&1*event.target.value==7&&(this.isTextarea=!0),event.target.checked||1*event.target.value!=7||(this.isTextarea=!1),event.target.checked?this.sendarray[1*event.target.value-1]="1":this.sendarray[1*event.target.value-1]="0"},validateBeforeSubmit:function(){var e=this;this.$validator.validateAll().then(function(t){if(t){var a={headers:{"x-access-token":JSON.parse(localStorage.getItem("Token"))}},i=e.user,s=i.fullName,r=i.dob,n=i.email,l=i.phoneNo,d=i.gender,c=i.username,u=r,m=new Date(u),p=m.getFullYear(),v=m.getMonth()+1,g=m.getDate();g<10&&(g="0"+g),v<10&&(v="0"+v),u=g+"/"+v+"/"+p;var w={fullName:s,dob:u,email:n,gender:d,userType:"3",username:c,phoneNo:1*l};f["a"].post("update-profile",w,a).then(function(t){t.data&&(window.scrollTo(0,0),e.isError=!1,e.isSuccess=!0,e.errormessage="",h["a"].getUser("",function(e){localStorage.setItem("User",o()(e))}))}).catch(function(t){e.isSuccess=!1,e.isError=!0;var a=t.response.data.errors;e.errormessage=a[0].msg})}})},getAddressData:function(e,t,a){this.geocode.push(t.address_components[3].short_name),this.$store.state.registerdata2.address=t.formatted_address,this.$store.state.registerdata2.latitude=e.latitude,this.$store.state.registerdata2.longitude=e.longitude}},created:function(){this.initializedata()},mounted:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),i=e.getDate(),s=new Date(t-18,a,i);this.maxDatetime=s.toISOString()}},x=C,y=(a("dd50"),a("2877")),_=Object(y["a"])(x,i,s,!1,null,"418ce838",null);t["default"]=_.exports},dd50:function(e,t,a){"use strict";var i=a("5658"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-8cc07f36.dc268da5.js.map